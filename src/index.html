<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Irmãos em Cristo</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="intro-text"><strong>Eu te amo a exatamente...</strong></div>
<button class="start-button" onclick="mostrarConteudo()">Clique ❤</button>

<div class="content" id="conteudo">
  <h1><strong>Irmãos em Cristo ✝️</strong></h1>

  <!-- GALERIA FOTO + VIDEO -->
  <div class="gallery">
    <div class="slides">
      <div class="slide">
        <img src="img/Foto.jpeg" alt="Foto juntos">
      </div>
      <div class="slide">
        <video id="meuVideo" muted loop playsinline>
          <source src="video/video2.mp4" type="video/mp4">
          Seu navegador não suporta vídeo.
        </video>
      </div>
    </div>
  </div>

  <div class="timer" id="timer">Carregando o tempo...</div>

  <div class="text">
    <p>
       Bibiaaa. Queria te dizer que você é uma das melhores
       pessoasque entrou na minha vida, vc com certeza é a resposta das minhas orações, de ter um amiga católica. Quero dizer que te amo MUIITO, vc é incrível, a muito tempo eu não me sentia amado por alguma amiga, a muito tempo eu esperava por alguém como vc.
       <strong> você é a melhor </strong>
        <strong> Obrigado Bibiaaa ❤️</strong>

    </p>
  </div>
</div>

<script>
  // MOSTRAR CONTEÚDO
  function mostrarConteudo() {
    document.querySelector(".start-button").style.display = "none";
    document.querySelector(".intro-text").style.display = "none";
    document.getElementById("conteudo").style.display = "flex";
  }

  // TIMER ANO / MÊS / DIA / HORA / MIN / SEG
  const startDate = new Date("2024-09-25T00:00:00");

  function plural(valor, singular, plural) {
    return valor === 1 ? singular : plural;
  }

  function updateTimer() {
    const now = new Date();

    let years = now.getFullYear() - startDate.getFullYear();
    let months = now.getMonth() - startDate.getMonth();
    let days = now.getDate() - startDate.getDate();
    let hours = now.getHours() - startDate.getHours();
    let minutes = now.getMinutes() - startDate.getMinutes();
    let seconds = now.getSeconds() - startDate.getSeconds();

    if (seconds < 0) { seconds += 60; minutes--; }
    if (minutes < 0) { minutes += 60; hours--; }
    if (hours < 0) { hours += 24; days--; }
    if (days < 0) {
      const lastMonth = new Date(now.getFullYear(), now.getMonth(), 0);
      days += lastMonth.getDate();
      months--;
    }
    if (months < 0) { months += 12; years--; }

    document.getElementById("timer").textContent =
      `${years} ${plural(years,"Ano","Anos")} ` +
      `${months} ${plural(months,"Mês","Meses")} ` +
      `${days} ${plural(days,"Dia","Dias")} ` +
      `${hours} ${plural(hours,"Hora","Horas")} ` +
      `${minutes} ${plural(minutes,"Minuto","Minutos")} ` +
      `${seconds} ${plural(seconds,"Segundo","Segundos")}`;
  }

  setInterval(updateTimer, 1000);
  updateTimer();

  // ===== GALERIA SWIPE SIMPLES COM ACOMPANHAMENTO DO DEDO =====
  const slides = document.querySelector(".slides");
  const video = document.getElementById("meuVideo");
  let currentIndex = 0;
  let startX = 0;
  let currentTranslate = 0;
  let prevTranslate = 0;
  let dragging = false;

  function setSlidePosition() {
    slides.style.transform = `translateX(${currentTranslate}px)`;
  }

  function animateSlide() {
    if (dragging) requestAnimationFrame(animateSlide);
    setSlidePosition();
  }

  function showSlide(index) {
    currentIndex = index;
    currentTranslate = -index * slides.offsetWidth;
    prevTranslate = currentTranslate;
    slides.style.transition = "transform 0.3s ease-out";
    setSlidePosition();

    if (index === 1) video.play();
    else {
      video.pause();
      video.currentTime = 0;
    }
  }

  function toggleSlide() {
    // alterna sempre 0 ↔ 1
    showSlide(currentIndex === 0 ? 1 : 0);
  }

  // TOUCHE / MOUSE
  slides.addEventListener("touchstart", e => {
    startX = e.touches[0].clientX;
    dragging = true;
    slides.style.transition = "none";
    requestAnimationFrame(animateSlide);
  });

  slides.addEventListener("touchmove", e => {
    if (!dragging) return;
    const deltaX = e.touches[0].clientX - startX;
    currentTranslate = prevTranslate + deltaX;
  });

  slides.addEventListener("touchend", e => {
    dragging = false;
    // qualquer movimento alterna
    if (Math.abs(currentTranslate - prevTranslate) > 20) toggleSlide();
    else showSlide(currentIndex);
  });

  slides.addEventListener("mousedown", e => {
    startX = e.clientX;
    dragging = true;
    slides.style.transition = "none";
    requestAnimationFrame(animateSlide);
  });

  slides.addEventListener("mousemove", e => {
    if (!dragging) return;
    const deltaX = e.clientX - startX;
    currentTranslate = prevTranslate + deltaX;
  });

  slides.addEventListener("mouseup", e => {
    dragging = false;
    if (Math.abs(currentTranslate - prevTranslate) > 20) toggleSlide();
    else showSlide(currentIndex);
  });

  slides.addEventListener("mouseleave", () => {
    if (dragging) {
      dragging = false;
      if (Math.abs(currentTranslate - prevTranslate) > 20) toggleSlide();
      else showSlide(currentIndex);
    }
  });

  // Inicializa
  showSlide(0);

</script>
</body>
</html>
